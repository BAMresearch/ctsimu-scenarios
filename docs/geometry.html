<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Geometry &mdash; CTSimU Scenarios 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Detector" href="detector.html" />
    <link rel="prev" title="Environment" href="environment.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CTSimU Scenarios
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="general.html">General structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="file.html">File</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Environment</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Geometry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#placement-of-objects-in-the-world-coordinate-system">Placement of objects in the world coordinate system</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deviations">Deviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detector">Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source">Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stage">Stage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="detector.html">Detector</a></li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">Samples</a></li>
<li class="toctree-l1"><a class="reference internal" href="acquisition.html">Acquisition</a></li>
<li class="toctree-l1"><a class="reference internal" href="materials.html">Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="proprietary.html">Software-specific properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="fullexample.html">Full Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CTSimU Scenarios</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Geometry</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/geometry.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="geometry">
<span id="sec-geometry"></span><h1>Geometry<a class="headerlink" href="#geometry" title="Permalink to this heading"></a></h1>
<section id="placement-of-objects-in-the-world-coordinate-system">
<span id="sec-geometry-placement-in-world"></span><h2>Placement of objects in the world coordinate system<a class="headerlink" href="#placement-of-objects-in-the-world-coordinate-system" title="Permalink to this heading"></a></h2>
<figure class="align-default" id="id1">
<span id="fig-coordinates"></span><a class="reference internal image-reference" href="_images/geometry.svg"><img alt="_images/geometry.svg" src="_images/geometry.svg" width="80%" /></a>
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text">World coordinate system {x, y, z} and local coordinate systems {u, v, w}.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>This specification does not define a fixed coordinate system for the CT set-up. The only assumption is that a right-handed world coordinate system {x, y, z} is used, and the local coordinate systems {u, v, w} of source, detector and sample stage are to be placed in this world coordinate system. <a class="reference internal" href="#fig-coordinates"><span class="std std-numref">Fig. 2</span></a> illustrates the general placement that is used in the following examples.</p>
<p>The <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;geometry&quot;</span></code> section has three subsections to define the location and orientation of the principal CT scanner components: <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;detector&quot;</span></code>, <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;source&quot;</span></code> and <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;stage&quot;</span></code>. They all share a common set of JSON properties for positioning. A very similar description is used later on to place samples into the scene (see <a class="reference internal" href="samples.html#sec-sample-positioning"><span class="std std-ref">sample positioning</span></a>). The placement description generally consists of the following parts:</p>
<dl>
<dt><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;center&quot;</span><span class="p">:</span></code></dt><dd><p>specifies the object’s center (x, y, z) in the world coordinate system, i.e., the geometric center of its bounding box. The bounding box is defined as the smallest cuboid (or rectangle, for 2D objects) that completely encloses the object, under the condition that the cuboid’s edges are each strictly parallel to one of the coordinate axes of the object’s own Cartesian coordinate system. The <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;center&quot;</span></code> is the origin of the local coordinate system {u, v, w} and also the pivot point for rotational deviations if no alternative pivot point is specified.</p>
</dd>
<dt><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;vector_u&quot;</span><span class="p">:</span></code> and <code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;vector_w&quot;</span><span class="p">:</span></code></dt><dd><p>specify the object’s orientation by defining the basis vectors <img class="math" src="_images/math/a2e1a3aecbec396d9a1854e5646dffc769cdec9d.svg" alt="\vec{u}"/> and <img class="math" src="_images/math/baf02a521473961a9ed6f3f5e2fd5a9930874cad.svg" alt="\vec{w}"/> of the local coordinate system in terms of the world coordinate system {x, y, z}. They are not required to be unit vectors but they must be <strong>orthogonal.</strong></p>
<p><img class="math" src="_images/math/baf02a521473961a9ed6f3f5e2fd5a9930874cad.svg" alt="\vec{w}"/> is usually meant to be a normal vector and <img class="math" src="_images/math/a2e1a3aecbec396d9a1854e5646dffc769cdec9d.svg" alt="\vec{u}"/> is one of the support vectors. <img class="math" src="_images/math/a2e1a3aecbec396d9a1854e5646dffc769cdec9d.svg" alt="\vec{u}"/> and <img class="math" src="_images/math/61f582a51919c2823c8aa9a0fd396d9b4b13d4c5.svg" alt="\vec{v}"/> also serve a second meaning as row and column vector of the resulting projection (for the detector) or of a given spot intensity profile image (for the source). See the descriptions below for details.</p>
</dd>
</dl>
</section>
<section id="deviations">
<span id="sec-geometry-deviations"></span><h2>Deviations<a class="headerlink" href="#deviations" title="Permalink to this heading"></a></h2>
<p>Deviations are small shifts (translations) or rotations that specify how much an object’s position or orientation differs from its ideal placement for the given frame. Deviations can be part of an object’s geometry definition. For example, a wobbling rotation axis of the stage could be described as a tilt of its local coordinate system:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">42</span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">43</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">44</span><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;translation&quot;</span><span class="p">,</span>
<span class="linenos">45</span><span class="w">    </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
<span class="linenos">46</span><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">47</span><span class="w">    </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="linenos">48</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">49</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">50</span><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="linenos">51</span><span class="w">    </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;w&quot;</span><span class="p">,</span>
<span class="linenos">52</span><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.3e-2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rad&quot;</span><span class="p">},</span>
<span class="linenos">53</span><span class="w">    </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">54</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">55</span><span class="p">]</span>
</pre></div>
</div>
<p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;deviations&quot;</span><span class="p">:</span></code> an array that can be used to specify a sequence of small deviations from the ideal geometry, both rotational or translational. Examples would be tilts of the detector or the rotation axis, or small shifts that should or should not be considered during the reconstruction of the CT scan.</p>
<p>A simulation software should treat the array’s deviation components as subsequent transformations of the frame’s ideal local coordinate system.</p>
<p>A deviation component should provide the following properties:</p>
<ul>
<li><p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;type&quot;</span><span class="p">:</span></code> can be either <code class="code docutils literal notranslate"><span class="pre">&quot;translation&quot;</span></code> or <code class="code docutils literal notranslate"><span class="pre">&quot;rotation&quot;</span></code>.</p></li>
<li><p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;amount&quot;</span><span class="p">:</span></code> the amount by which to deviate. For a translational deviation, this is the length by which the object should shift in the given direction. For a rotational deviation, it is the angle by which the object should rotate around the given axis (and optionally, the given pivot point). A <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;value&quot;</span></code> and <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;unit&quot;</span></code> must be specified for the amount.</p></li>
<li><p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;axis&quot;</span><span class="p">:</span></code> specifies the direction of the deviation. For translations, it provides the direction of the shift. For rotations, it provides the rotation axis. The axis must not be a unit vector, but its length has no special significance.</p>
<p>The axis can be given as and axis designation or as an arbitrary vector:</p>
<ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">&quot;x&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;y&quot;</span></code> or <code class="code docutils literal notranslate"><span class="pre">&quot;z&quot;</span></code> are the axes of the <strong>world coordinate system.</strong></p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">45</span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">&quot;u&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;v&quot;</span></code> or <code class="code docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> are the axes of the <strong>local coordinate system</strong> or of the <strong>stage coordinate system</strong> (in case of samples).</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">51</span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;w&quot;</span>
</pre></div>
</div>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;s&quot;</span></code> or <code class="code docutils literal notranslate"><span class="pre">&quot;t&quot;</span></code> are the local axes of the <strong>sample coordinate system</strong> (see <a class="reference internal" href="samples.html#sec-samples"><span class="std std-ref">samples</span></a> for details).</p></li>
<li><p>An <strong>arbitrary axis</strong> can be specified using the vector components from any of the three aforementioned sets (world, local or sample). For example, a vector defined in the <strong>world coordinate system</strong> would look like:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">57</span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">58</span><span class="w">  </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">2.0</span><span class="p">},</span>
<span class="linenos">59</span><span class="w">  </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-3.0</span><span class="p">},</span>
<span class="linenos">60</span><span class="w">  </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">5.3</span><span class="p">}</span>
<span class="linenos">61</span><span class="p">}</span>
</pre></div>
</div>
<p>whereas a vector that is fixed to the <strong>local coordinate system</strong> would look like in the following listing. If this were defined for the stage, the vector would follow the stage’s rotation throughout the CT scan.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">122</span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">123</span><span class="w">  </span><span class="nt">&quot;u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">124</span><span class="w">  </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">125</span><span class="w">  </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">126</span><span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;pivot&quot;</span><span class="p">:</span></code> For rotations, the pivot point defines where the rotation axis is attached. If not specified, the object’s center point is assumed to be the rotation’s pivot point. Similar to the <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;axis&quot;</span></code>, the pivot can be expressed in terms of the world coordinate system {x, y, z}, the local (or stage) coordinate system {u, v, w}, or the sample coordinate sytem {r, s, t}. It does not have to be the same coordinate system as for the <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;axis&quot;</span></code>.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">62</span><span class="nt">&quot;pivot&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">63</span><span class="w">  </span><span class="nt">&quot;u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">64</span><span class="w">  </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-2.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">65</span><span class="w">  </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">2.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">}</span>
<span class="linenos">66</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span></code> Whether these deviations are known to the reconstruction software or not depends on the purpose of the scenario and can be specified by setting this property to either <code class="code highlight json-object docutils literal highlight-json-object"><span class="kc">true</span></code> or <code class="code highlight json-object docutils literal highlight-json-object"><span class="kc">false</span></code>:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">53</span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
</li>
</ul>
<p>Note that deviations are applied on a per-frame basis. They do not propagate to the next frame, they do not accumulate. For a given frame, all deviations are assumed to be applied <strong>after the rotating sample stage has arrived</strong> at its intended angular position. This means that if the deviation’s <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;amount&quot;</span></code> is drifting throughout the CT scan, the deviation is calculated anew for each frame, based on its current drift value, and assumed to be applied to the object’s ideal position and orientation for the frame (without considering any previous deviations that have been applied in the frames before).</p>
<p>For example, a <strong>static stage tilt</strong> can be modelled by a rotation around on of the axes of the world coordinate system, or a vector that is given in terms of {x, y, z}:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;static axis tilt around beam direction&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If a <strong>dynamic stage tilt (wobble)</strong> is modelled, it can be given as a rotation around one of its local axes, or any vector given in terms of the local coordinate system {u, v, w}. This way, the deviation’s axis will rotate along with the CT stage. Since each deviation is applied on a per-frame basis from the frame’s ideal geometry, the axis will precess around a cone.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">118</span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">119</span><span class="w">  </span><span class="p">{</span>
<span class="linenos">120</span><span class="w">    </span><span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;axis wobble&quot;</span><span class="p">,</span>
<span class="linenos">121</span><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="linenos">122</span><span class="w">    </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">123</span><span class="w">      </span><span class="nt">&quot;u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">124</span><span class="w">      </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">125</span><span class="w">      </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">126</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">127</span><span class="w">    </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="linenos">128</span><span class="w">    </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="linenos">129</span><span class="w">  </span><span class="p">}</span>
<span class="linenos">130</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="detector">
<span id="sec-geometry-detector"></span><h2>Detector<a class="headerlink" href="#detector" title="Permalink to this heading"></a></h2>
<p>For this specification, in general, vectors <img class="math" src="_images/math/a2e1a3aecbec396d9a1854e5646dffc769cdec9d.svg" alt="\vec{u}"/> and <img class="math" src="_images/math/61f582a51919c2823c8aa9a0fd396d9b4b13d4c5.svg" alt="\vec{v}"/> designate an item’s in-plane vectors, whereas <img class="math" src="_images/math/baf02a521473961a9ed6f3f5e2fd5a9930874cad.svg" alt="\vec{w}"/> usually designates a normal vector. Following this convention, <img class="math" src="_images/math/17dcdd8ca2862e923fac2c2f9f81f5e419623cbc.svg" alt="\vec{u}_\textsf{D}"/> is the detector’s <strong>row vector,</strong> pointing from left to right in the resulting projection image (as seen on a computer screen with a pixel coordinate system that has its origin in the upper left corner). <img class="math" src="_images/math/0fe05e079e32ad1d98f6dba2311676c78617e598.svg" alt="\vec{v}_\textsf{D}"/> is the detector’s <strong>column vector,</strong> pointing from top to bottom in the resulting projection image. The orientation of these two vectors directly determines the orientation of the projection image.</p>
<p>Note that for any object only the normal vector <img class="math" src="_images/math/baf02a521473961a9ed6f3f5e2fd5a9930874cad.svg" alt="\vec{w}"/> and the support vector <img class="math" src="_images/math/a2e1a3aecbec396d9a1854e5646dffc769cdec9d.svg" alt="\vec{u}"/> are given in the JSON file. The detector normal <img class="math" src="_images/math/3f6ec79dc6fd8458355550fef1b8d5eab49328c2.svg" alt="\vec{w}_\textsf{D}"/> does not have any special meaning and should be arranged such that the detector’s row and column vector point in the desired directions.</p>
<p>The size and further properties of the detector are defined later on in the <a class="reference internal" href="detector.html#sec-detector"><span class="std std-ref">detector section</span></a> of the JSON file.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">24</span><span class="nt">&quot;detector&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">25</span><span class="w">  </span><span class="nt">&quot;center&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">26</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">27</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">28</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">}</span>
<span class="linenos">29</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="w">  </span><span class="nt">&quot;vector_u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">32</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">33</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">},</span>
<span class="linenos">34</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">35</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">36</span><span class="w">  </span><span class="nt">&quot;vector_w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">37</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">38</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">39</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">40</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="w">  </span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">43</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">44</span><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;translation&quot;</span><span class="p">,</span>
<span class="linenos">45</span><span class="w">      </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;x&quot;</span><span class="p">,</span>
<span class="linenos">46</span><span class="w">      </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">47</span><span class="w">      </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="linenos">48</span><span class="w">    </span><span class="p">},</span>
<span class="linenos">49</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">50</span><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="linenos">51</span><span class="w">      </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;w&quot;</span><span class="p">,</span>
<span class="linenos">52</span><span class="w">      </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.3e-2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rad&quot;</span><span class="p">},</span>
<span class="linenos">53</span><span class="w">      </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">54</span><span class="w">    </span><span class="p">},</span>
<span class="linenos">55</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">56</span><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="linenos">57</span><span class="w">      </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">58</span><span class="w">        </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">2.0</span><span class="p">},</span>
<span class="linenos">59</span><span class="w">        </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-3.0</span><span class="p">},</span>
<span class="linenos">60</span><span class="w">        </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">5.3</span><span class="p">}</span>
<span class="linenos">61</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">62</span><span class="w">      </span><span class="nt">&quot;pivot&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">63</span><span class="w">        </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">64</span><span class="w">        </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-3.0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">65</span><span class="w">        </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mf">5.3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">}</span>
<span class="linenos">66</span><span class="w">      </span><span class="p">},</span>
<span class="linenos">67</span><span class="w">      </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="linenos">68</span><span class="w">      </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="linenos">69</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">70</span><span class="w">  </span><span class="p">]</span>
<span class="linenos">71</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="source">
<span id="sec-geometry-source"></span><h2>Source<a class="headerlink" href="#source" title="Permalink to this heading"></a></h2>
<p>The source can be modelled either as a cone-beam geometry or a parallel beam geometry. This behaviour is set by the <code class="code highlight json-object docutils literal highlight-json-object"><span class="nt">&quot;type&quot;</span><span class="p">:</span></code> property, which can be either <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;cone&quot;</span></code> or <code class="code highlight json-object docutils literal highlight-json-object"><span class="s2">&quot;parallel&quot;</span></code>.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">74</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cone&quot;</span><span class="p">,</span>
<span class="linenos">75</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;parallel&quot;</span>
</pre></div>
</div>
<p>In the case of a parallel beam, its divergence can be specified along both planar axes of the source:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">75</span><span class="nt">&quot;beam_divergence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">76</span><span class="w">  </span><span class="nt">&quot;u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="linenos">77</span><span class="w">  </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">}</span>
<span class="linenos">78</span><span class="p">}</span>
</pre></div>
</div>
<p>For a cone beam geometry, this property should be set to <code class="code highlight json-object docutils literal highlight-json-object"><span class="kc">null</span></code>:</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">75</span><span class="nt">&quot;beam_divergence&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
</pre></div>
</div>
<p>Spatially extended source intensity profiles are modelled as a rectangle. For cone-beam geometries, this will be a very small rectangle on the size scale of the spot size.</p>
<p>For parallel beam geometries, the optical axis of the system is assumed to be the <img class="math" src="_images/math/a213fc2047cb62b58b6ca18e3fb3751e42cc7ed1.svg" alt="\vec{w}_\textsf{F}"/> axis of the source, and all rays should be parallel to this axis (apart from beam divergence). This means that the source rectangle in the model should ideally be of a size such that the entire detector is covered by radiation.</p>
<p>If a spot intensity profile is given as an image (see <a class="reference internal" href="source.html#sec-spot-2d-images"><span class="std std-ref">source</span></a> for details), <img class="math" src="_images/math/d23c15d17fc056c7fc74d08e6e392ec13aad9aa1.svg" alt="\vec{u}_\textsf{F}"/> is the image’s row vector, pointing from left to right in this image, and <img class="math" src="_images/math/8d50a0ec446beeab47c674f642e6b4d10ac8079a.svg" alt="\vec{v}_\textsf{F}"/> is the image’s column vector, pointing from top to bottom.</p>
<p>To allow the correct orientation of the intensity profile image, the vector <img class="math" src="_images/math/a213fc2047cb62b58b6ca18e3fb3751e42cc7ed1.svg" alt="\vec{w}_\textsf{F}"/> does not necessarily point in the main direction of radiation, but could also point in the opposite direction (due to the restraint of a right-handed coordinate system).</p>
<p>Within the WIPANO CTSimU project, we agreed to the convention of placing the source at (0, 0, 0). It is not a requirement.</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">73</span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">74</span><span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cone&quot;</span><span class="p">,</span>
<span class="linenos">75</span><span class="w">  </span><span class="nt">&quot;beam_divergence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">76</span><span class="w">    </span><span class="nt">&quot;u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="linenos">77</span><span class="w">    </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">}</span>
<span class="linenos">78</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">79</span>
<span class="linenos">80</span><span class="w">  </span><span class="nt">&quot;center&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">81</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">82</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">83</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">}</span>
<span class="linenos">84</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">85</span>
<span class="linenos">86</span><span class="w">  </span><span class="nt">&quot;vector_u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">87</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">88</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">},</span>
<span class="linenos">89</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">90</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">91</span><span class="w">  </span><span class="nt">&quot;vector_w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">92</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">93</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">94</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">95</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">96</span>
<span class="linenos">97</span><span class="w">  </span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="linenos">98</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="stage">
<span id="sec-geometry-stage"></span><h2>Stage<a class="headerlink" href="#stage" title="Permalink to this heading"></a></h2>
<p>The normal vector <img class="math" src="_images/math/57b8c497fc4604ea5dc14244450099acbc355b2c.svg" alt="\vec{w}_\textsf{O}"/> of the sample stage specifies the axis of rotation for the CT scan. By default, the sample stage coordinate system and all samples attached to it are meant to rotate around this axis, whereas the source and detector stay still (as for typical industrial CT scanners).</p>
<p>Samples that are placed in the stage coordinate system all take part in the rotation of the sample stage. Samples that are placed in the world coordinate system are fixed during the CT scan (i.e. fixed relative to source and detector, see <a class="reference internal" href="samples.html#sec-samples"><span class="std std-ref">samples</span></a> for details).</p>
<div class="highlight-json-object notranslate"><div class="highlight"><pre><span></span><span class="linenos">100</span><span class="nt">&quot;stage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">101</span><span class="w">  </span><span class="nt">&quot;center&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">102</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">275</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">103</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">},</span>
<span class="linenos">104</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mm&quot;</span><span class="p">}</span>
<span class="linenos">105</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">106</span>
<span class="linenos">107</span><span class="w">  </span><span class="nt">&quot;vector_u&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">108</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">},</span>
<span class="linenos">109</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">110</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">}</span>
<span class="linenos">111</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">112</span><span class="w">  </span><span class="nt">&quot;vector_w&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="linenos">113</span><span class="w">    </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">114</span><span class="w">    </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">0</span><span class="p">},</span>
<span class="linenos">115</span><span class="w">    </span><span class="nt">&quot;z&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w">  </span><span class="mi">1</span><span class="p">}</span>
<span class="linenos">116</span><span class="w">  </span><span class="p">},</span>
<span class="linenos">117</span>
<span class="linenos">118</span><span class="w">  </span><span class="nt">&quot;deviations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="linenos">119</span><span class="w">    </span><span class="p">{</span>
<span class="linenos">120</span><span class="w">      </span><span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;axis wobble&quot;</span><span class="p">,</span>
<span class="linenos">121</span><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rotation&quot;</span><span class="p">,</span>
<span class="linenos">122</span><span class="w">      </span><span class="nt">&quot;axis&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;u&quot;</span><span class="p">,</span>
<span class="linenos">123</span><span class="w">      </span><span class="nt">&quot;amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;unit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;deg&quot;</span><span class="p">},</span>
<span class="linenos">124</span><span class="w">      </span><span class="nt">&quot;known_to_reconstruction&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="linenos">125</span><span class="w">    </span><span class="p">}</span>
<span class="linenos">126</span><span class="w">  </span><span class="p">]</span>
<span class="linenos">127</span><span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="environment.html" class="btn btn-neutral float-left" title="Environment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="detector.html" class="btn btn-neutral float-right" title="Detector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
    <p></p>
    <p>&#169; Copyright 2021, WIPANO CTSimU Project.</p>
    <p><a href="https://www.bam.de/Navigation/EN/Services/Privacy-Policy/privacy-policy.html">Privacy Policy</a></p>
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>